##3.5基础信息接口
该接口初步设计在根据车牌和身份证查询客户信息后直接调用输入项接口，返回客户需要补充的信息。
<table>
   <tr>
      <td>字段</td>
      <td>描述</td>
      <td>类型</td>
      <td>是否可为空</td>
      <td>备注</td>
   </tr>
   <tr>
      <td>cityCode</td>
      <td>城市代码</td>
      <td>String</td>
      <td>否</td>
      <td>阳光提供见下说明</td>
   </tr>
   <tr>
      <td>licenseNo</td>
      <td>车牌号</td>
      <td>String</td>
      <td>是</td>
      <td>新车为空</td>
   </tr>
   <tr>
      <td>noLicenseFlag</td>
      <td>新车未上牌</td>
      <td>String</td>
      <td>否</td>
      <td>1：新车，0：非新车</td>
   </tr>
   <tr>
      <td>ownerName</td>
      <td>车主姓名</td>
      <td>String</td>
      <td>否</td>
      <td>姓名</td>
   </tr>
   <tr>
      <td>ownerMobile</td>
      <td>手机号码</td>
      <td>String</td>
      <td>否</td>
      <td>月份，如：13800138000</td>
   </tr>
   <tr>
      <td>agentCode</td>
      <td>服务区域代码</td>
      <td>String</td>
      <td>否</td>
      <td>如：W03210001</td>
   </tr>
   <tr>
      <td>spsource</td>
      <td>广告来源代码</td>
      <td>String</td>
      <td>否</td>
      <td>P05代码</td>
   </tr>
   <tr>
      <td>netcampaignno</td>
      <td>网销营销活动代码 </td>
      <td>String</td>
      <td>否</td>
      <td>H代码</td>
   </tr>
   <tr>
      <td>accountType</td>
      <td>账号类型</td>
      <td>String</td>
      <td>是</td>
      <td>QQ、微信</td>
   </tr>
   <tr>
      <td>accountNo</td>
      <td>账号</td>
      <td>String</td>
      <td>是</td>
      <td></td>
   </tr>
   <tr>
      <td>terminalType</td>
      <td>终端类型</td>
      <td>String</td>
      <td>是</td>
      <td>例如：1：IPAD；</td>
   </tr>

</table>

城市编码请求阳光提供的地址返回josn字符用jsonp解决ajax跨域请求（注：如果是ajax请求，最好使用post方式提交，避免乱码）

根据参数返回对应城市地址

http://chexian.sinosig.com/travelCity!getTravelCityForInterface.action?hotSign=4&limit=0&queryCon=邯郸&contName=大名&encoding=GBK&callback=jsonp1045

hotSign 为查询类型标识 说明一下。机构就是投保地区

hotSign 为0:根据关键字查询机构。queryCon为用户输入的关键字，可是城市拼音缩写、拼音全拼、汉字

hotSign 为1:查询热门城市，查询热门城市queryCon、contName为空或不传即可。

hotSign 为2:查询二级机构（也就是省份）。queryCon、contName为空或不传即可。

hotSign 为3:根据选择的省份或者城市查询三级或四级级机构。queryCon为省份或者城市的机构代码。如：选择北京的下级机构，queryCon为北京的机构代码。contName为空或不传即可。

hotSign 为4:根据城市名称查询机构。queryCon为城市名称（不带市）。如：选择北京的下级机构，queryCon为北京的机构代码。contName为县或区名称（不带县或区）

 limit分页输入0即可
 
 返回示例：
 ```json
 jsonp1045(
 
[
    {
        "id": "01562800", 
        "ContName": "北京 通州", 
        "rank": "3", 
        "spelling": "tongzhou", 
        "spellingAcronym": "tz", 
        "cityPlate": "京", 
        "proPlate": "京"
    }, 
    {
        "id": "03546710", 
        "ContName": "南通市 通州", 
        "rank": "4", 
        "spelling": "tongzhou", 
        "spellingAcronym": "tz", 
        "cityPlate": "苏F", 
        "proPlate": "苏F"
    }, 
    {
        "id": "06526202", 
        "ContName": "南阳市 桐柏县", 
        "rank": "4", 
        "spelling": "tongbaixian", 
        "spellingAcronym": "tbx", 
        "cityPlate": "豫R", 
        "proPlate": "豫R"
    }, 
    {
        "id": "06665104", 
        "ContName": "开封市 通许县", 
        "rank": "4", 
        "spelling": "tongxuxian", 
        "spellingAcronym": "txx", 
        "cityPlate": "豫B", 
        "proPlate": "豫B"
    }, 
    {
        "id": "19501702", 
        "ContName": "杭州市 桐庐市", 
        "rank": "4", 
        "spelling": "tonglushi", 
        "spellingAcronym": "tls", 
        "cityPlate": "浙A", 
        "proPlate": "浙A"
    }, 
    {
        "id": "19533020", 
        "ContName": "嘉兴市 桐乡县", 
        "rank": "4", 
        "spelling": "tongxiangxian", 
        "spellingAcronym": "txx", 
        "cityPlate": "浙F", 
        "proPlate": "浙F"
    }, 
    {
        "id": "25573000", 
        "ContName": "铜川市", 
        "rank": "3", 
        "spelling": "TongChuanShi", 
        "spellingAcronym": "tcs", 
        "cityPlate": "陕B", 
        "proPlate": "陕B"
    }, 
    {
        "id": "27511400", 
        "ContName": "通化市", 
        "rank": "3", 
        "spelling": "TongHuaShi", 
        "spellingAcronym": "ths", 
        "cityPlate": "吉E", 
        "proPlate": "吉E"
    }, 
    {
        "id": "33581002", 
        "ContName": "安庆市 桐城市", 
        "rank": "4", 
        "spelling": "tongcheng", 
        "spellingAcronym": "tc", 
        "cityPlate": "皖H", 
        "proPlate": "皖H"
    }, 
    {
        "id": "36582200", 
        "ContName": "通辽市", 
        "rank": "3", 
        "spelling": "TongLiaoShi", 
        "spellingAcronym": "tls", 
        "cityPlate": "蒙G", 
        "proPlate": "蒙G"
    }, 
    {
        "id": "37520600", 
        "ContName": "厦门 同安区", 
        "rank": "3", 
        "spelling": "tonganqu", 
        "spellingAcronym": "taq", 
        "cityPlate": "闽D", 
        "proPlate": "闽D"
    }
]

)
 ```
Id:城市code 对应请求报文cityCode  

ContName：城市名称

rank：机构等级（从2开始）

Spelling：城市拼音全拼

spellingAcronym：城市拼音缩写

cityPlate:城市车牌号前缀

###3.5.1请求报文

``` xml
<?xml version='1.0' encoding='GBK' standalone='yes'?>
<PackageList xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<Package>
		<Header>
			<Version>2</Version>
			<RequestType>100</RequestType>
			<InsureType>100</InsureType>
			<SessionId>201501212139114572</SessionId>
			<From>MobileCar</From>
			<To>Server</To>
			<AgentCode>W02400654</AgentCode>
			<SendTime>2015-01-21 21:40:13</SendTime>
			<SellerId>3597746367</SellerId>
			<Status>100</Status>
			<ErrorMessage></ErrorMessage>
		</Header>
		<Request>
			<InputsList>
				<Inputs type='vehicleInfo'>
					<input name='ownerName'>儿童</input>
					<input name='ownerMobile'>18511565612</input>
					<input name='terminalType'>1</input>
					<input name='cityCode'>08512200</input>
					<input name='eSalesNo'></input>
					<input name='accountNo'>PZ101913</input>
					<input name='bizModel'></input>
					<input name='agentCode'>W02400654</input>
					<input name='licenseNo'></input>
					<input name='netcampaignno'>Net</input>
					<input name='accountType'>2</input>
					<input name='noLicenseFlag'>1</input>
					<input name='ownerEmail'>5675677576@qq.com</input>
					<input name='spsource'>P05-ADWBPZYL-M-xs165</input>
				</Inputs>
			</InputsList>
		</Request>
		<Sign>WG65RuD0IS0EtzlIXRBLfjE3LKWtNrITseGxwZSmv9leaASCXB1uhXOVCySCApG0cgSyewuwTSJqPHTVgJ8swgL_fEqVDP4Y-i-_HUOdQIxzs2Is09X8nOyOdVOl6nYqZsp6t7Ij4Vj00qH8O4-7gHUmyqRfUJJA5FJQ1akia4s</Sign>
	</Package>
</PackageList>
```

###3.5.2返回报文

1.通过车牌和身份证信息查询客户，根据查询结果情况返回：
如果可直接报价则报价套餐和车辆、车主信息返回（status节点为100），否则新保返回需要采集信息的节点（status节点为200），第三方根据返回报文向用户展示采集项。
新保返回的数据：
<table>
   <tr>
      <td>字段</td>
      <td>描述</td>
      <td>类型</td>
      <td>是否为空</td>
      <td>备注</td>
   </tr>
   <tr>
      <td>ownerIdNo</td>
      <td>身份证</td>
      <td>text</td>
      <td>否</td>
      <td>完整身份证号</td>
   </tr>
   <tr>
      <td>ownerName</td>
      <td>车主姓名</td>
      <td>text</td>
      <td>否</td>
      <td>车主姓名</td>
   </tr>
   <tr>
      <td>vehicleId</td>
      <td>车辆Id</td>
      <td>hidden</td>
      <td>否</td>
      <td>客户车型Id</td>
   </tr>
   <tr>
      <td>vehicleModelName</td>
      <td>品牌型号</td>
      <td>text</td>
      <td>否</td>
      <td>车辆品牌：车型选择接口。</td>
   </tr>
   <tr>
      <td>vehicleFrameNo</td>
      <td>车架号</td>
      <td>text</td>
      <td>否</td>
      <td>小于17位以行驶证为准</td>
   </tr>
   <tr>
      <td>engineNo</td>
      <td>发动机号</td>
      <td>text</td>
      <td>否</td>
      <td>小于20位以行驶证为准</td>
   </tr>
   <tr>
      <td>registerDate</td>
      <td>注册日期</td>
      <td>cascade</td>
      <td>否</td>
      <td>级联显示</td>
   </tr>
   <tr>
      <td>specialCarFlag</td>
      <td>是否过户车</td>
      <td>radio</td>
      <td>否</td>
      <td>是：1；否：0</td>
   </tr>
   <tr>
      <td>specialCarDate</td>
      <td>过户日期</td>
      <td>Date</td>
      <td>是</td>
      <td>例如：2013-02-01</td>
   </tr>
   <tr>
      <td>vehicleInvoiceNo</td>
      <td>新车购置发票号</td>
      <td>text</td>
      <td>否</td>
      <td>北京新车时采集</td>
   </tr>
   <tr>
      <td>vehicleInvoiceDate</td>
      <td>发票开具日期</td>
      <td>Date</td>
      <td>否</td>
      <td>北京新车时采集</td>
   </tr>
   <tr>
      <td>isOcr</td>
      <td>是否使用OCR</td>
      <td>hidden</td>
      <td>否</td>
      <td>是否使用OCR采集信息 0不使用 1使用</td>
   </tr>
</table>

新车或需要补充信息列表请参考附录表1.
``` xml
<?xml version="1.0" encoding="GBK" standalone="yes"?>
<PackageList xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<Package>
		<Header>
			<version>2</version>
			<RequestType>100</RequestType>
			<InsureType>100</InsureType>
			<SessionId>201501212139114572</SessionId>
			<SellerId>3597746367</SellerId>
			<SendTime>2015-01-21 21:40:14</SendTime>
			<Status>200</Status>
			<ErrorMessage></ErrorMessage>
		</Header>
		<Sign>KpdzqOvh6jveNMtq2Sv2fowKoq5t6iB-wNOCbxZWF4ki4WjX-cCIaeP73ZMI6ovOyuny12SaW6fQ7pmdyRiZX7B56c4vcwNf4i2QhU2u9KUv26fEIN5Kd6oo7d6dZ_kzjy3JaFr7ot8kCryPosk62kX5JXGgaZxOIqlJbL8X5pI</Sign>
		<Response>
			<TagsList>
				<Tags type="vehicleInfo">
					<Tag>
						<Definition name="type">hidden</Definition>
						<Definition name="key">isOcr</Definition>
						<Definition name="label">是否使用OCR
                        </Definition>
						<Definition name="value">0</Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">text</Definition>
						<Definition name="key">vehicleFrameNo</Definition>
						<Definition name="label">车架号</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">text</Definition>
						<Definition name="key">vehicleModelName</Definition>
						<Definition name="label">品牌型号</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"><![CDATA[http://1.202.156.227:7002/Partner/netVehicleModel.action]]></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">hidden</Definition>
						<Definition name="key">vehicleId</Definition>
						<Definition name="label">车辆代码</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">text</Definition>
						<Definition name="key">engineNo</Definition>
						<Definition name="label">发动机号</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">select</Definition>
						<Definition name="key">seats</Definition>
						<Definition name="label">座位数</Definition>
						<Definition name="value">5</Definition>
						<Definition name="data"><![CDATA[2:2;3:3;4:4;5:5;6:6;7:7;8:8;9:9;10:10;11:11]]></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
						<Definition name="premium"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">date</Definition>
						<Definition name="key">firstRegisterDate</Definition>
						<Definition name="label">注册登记日期
                        </Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">radio</Definition>
						<Definition name="key">specialCarFlag</Definition>
						<Definition name="label">是否过户车：
                         </Definition>
						<Definition name="value">0</Definition>
						<Definition name="data"><![CDATA[是:1;否:0]]>
                        </Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">date</Definition>
						<Definition name="label">过户日期</Definition>
						<Definition name="key">specialCarDate</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">text</Definition>
						<Definition name="key">ownerName</Definition>
						<Definition name="label">车主</Definition>
						<Definition name="value">儿童</Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
					<Tag>
						<Definition name="type">text</Definition>
						<Definition name="key">ownerIdNo</Definition>
						<Definition name="label">身份证号码</Definition>
						<Definition name="value"></Definition>
						<Definition name="dataUrl"></Definition>
						<Definition name="checkUrl"></Definition>
					</Tag>
				</Tags>
			</TagsList>
		</Response>
	</Package>
</PackageList>
```
报文注释：
>
Tags表示一类型的输入项，把输入信息分类，方便准确填写信息，目前输入项分为车辆信息、车主信息、被保险人信息、配送信息和其他信息，其他信息主要指没有归类的输入项，比如车船税补充信息等。

Tag标签是具体的输入项，每个需要填写的信息要一个tag标签。

Definition是输入项属性的配置信息，有六种类型标示输入项的属性。

type:标示输入项类型，有text，select，checkbox，radio，label,hidden或第三方定义的标签，其中label标示该标签为显示标签，只展示给用户看就可以了，不需要客户输入，但是不允许客户修改。

key：指标签的名称，根据这个字段取value。

lable：输入项的标题，

disable: 1客户无法选择或输入，

value: 输入项的默认值，如果没有默认值该项为空。

premium: 保费,显示商业险责任的保费

check: 字段的校验规则，主要使用在text输入框

dataUrl：输入项中输入的值需要到服务器上查询具体的信息，目前主要使用的地方是车型查询，客户输入车辆品牌，根据输入信息到车型库中查询车辆明细。

checkUrl:输入项的验证功能，在输入项有复杂的验证时，没有办法在第三方那边配置，可以通过该值，客户输入完后焦点离开时会请求该地址，验证输入项是否合法，返回的是json格式数据，如果成功返回true，如果验证失败返回false和错误提示信息。


定义套餐：全面套餐，热门套餐和自由组合套餐。
保险公司可以根据自己定义的套餐返回，自由组合套餐是必返回，保险全部的责任和输入项，如果责任之间有关系在返回的套餐中定义。
如果报价异常或者需要中断流程，或者等待状态，返回相对应的报文，返回报文中Stauts节点设置为相对的值（300：拒保、400：中断流程），展示信息提示（ErrorMessages节点数据）。
     

``` xml
<?xml version="1.0" encoding="GBK" standalone="yes"?>
<PackageList xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Package>
    <Header>
      <version>2</version>
      <RequestType>100</RequestType>
      <InsureType>100</InsureType>
      <SessionId>33763110891482088102118850914</SessionId>
      <From>2051078519</From>
      <To>taobao</To>
      <SendTime>2013-04-24 18:28:42</SendTime>
      <Status>400</Status>
      <ErrorMessages>亲！您投保不成功，稍后坐席会与您联系！</ErrorMessages>
    </Header>    
<Response>
</Response>
<Sign>ddfhsdgdghdfgdhdsgdgdfdfgdfgfdfgdgdf</Sign>
  </Package>
</PackageList>
```